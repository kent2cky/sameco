{"version":3,"sources":["webpack:///./src/modules/auth/components/profile-form-page.vue?e43f","webpack:///src/modules/auth/components/profile-form-page.vue","webpack:///./src/modules/auth/components/profile-form-page.vue?411f","webpack:///./src/modules/auth/components/profile-form-page.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","separator-class","to","path","code","staticClass","ref","label-position","labelPosition","label-width","labelWidthForm","model","rules","nativeOn","submit","$event","preventDefault","doSubmit","label","fields","firstName","prop","name","required","lg","md","sm","value","callback","$$v","$set","expression","lastName","phoneNumber","prefix-icon","avatarsProfile","max","currentUser","authenticationUid","schema","fileSchema","disabled","saveLoading","icon","type","on","click","doReset","staticRenderFns","_fields","user_model","formSchema","form_schema","profile_form_pagevue_type_script_lang_js_","data","computed","Object","objectSpread","vuex_esm","created","_created","asyncToGenerator","regeneratorRuntime","mark","_callee","wrap","_context","prev","next","initialValues","stop","apply","arguments","methods","doUpdateProfile","_doSubmit","_callee2","values","_context2","$refs","form","validate","t0","abrupt","cast","components_profile_form_pagevue_type_script_lang_js_","component","componentNormalizer","__webpack_exports__"],"mappings":"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","file":"js/chunk-2d0a36c8.aa010934.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-breadcrumb',{attrs:{\"separator-class\":\"el-icon-arrow-right\"}},[_c('el-breadcrumb-item',{attrs:{\"to\":{ path: '/' }}},[_c('app-i18n',{attrs:{\"code\":\"home.menu\"}})],1),_c('el-breadcrumb-item',[_c('app-i18n',{attrs:{\"code\":\"auth.profile.title\"}})],1)],1),_c('div',{staticClass:\"app-content-page\"},[_c('h1',{staticClass:\"app-content-title\"},[_c('app-i18n',{attrs:{\"code\":\"auth.profile.title\"}})],1),_c('el-form',{ref:\"form\",staticClass:\"form\",attrs:{\"label-position\":_vm.labelPosition,\"label-width\":_vm.labelWidthForm,\"model\":_vm.model,\"rules\":_vm.rules},nativeOn:{\"submit\":function($event){$event.preventDefault();return _vm.doSubmit($event)}}},[_c('el-form-item',{attrs:{\"label\":_vm.fields.firstName.label,\"prop\":_vm.fields.firstName.name,\"required\":_vm.fields.firstName.required}},[_c('el-col',{attrs:{\"lg\":11,\"md\":16,\"sm\":24}},[_c('el-input',{ref:\"focus\",model:{value:(_vm.model[_vm.fields.firstName.name]),callback:function ($$v) {_vm.$set(_vm.model, _vm.fields.firstName.name, $$v)},expression:\"model[fields.firstName.name]\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":_vm.fields.lastName.label,\"prop\":_vm.fields.lastName.name,\"required\":_vm.fields.lastName.required}},[_c('el-col',{attrs:{\"lg\":11,\"md\":16,\"sm\":24}},[_c('el-input',{model:{value:(_vm.model[_vm.fields.lastName.name]),callback:function ($$v) {_vm.$set(_vm.model, _vm.fields.lastName.name, $$v)},expression:\"model[fields.lastName.name]\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":_vm.fields.phoneNumber.label,\"prop\":_vm.fields.phoneNumber.name,\"required\":_vm.fields.phoneNumber.required}},[_c('el-col',{attrs:{\"lg\":11,\"md\":16,\"sm\":24}},[_c('el-input',{attrs:{\"prefix-icon\":\"el-icon-fa-plus\"},model:{value:(_vm.model[_vm.fields.phoneNumber.name]),callback:function ($$v) {_vm.$set(_vm.model, _vm.fields.phoneNumber.name, $$v)},expression:\"model[fields.phoneNumber.name]\"}})],1)],1),_c('el-form-item',{attrs:{\"label\":_vm.fields.avatarsProfile.label,\"prop\":_vm.fields.avatarsProfile.name,\"required\":_vm.fields.avatarsProfile.required}},[_c('el-col',{attrs:{\"lg\":11,\"md\":16,\"sm\":24}},[_c('app-image-upload',{attrs:{\"max\":_vm.fields.avatarsProfile.max,\"path\":_vm.fields.avatarsProfile.path(_vm.currentUser.authenticationUid),\"schema\":_vm.fields.avatarsProfile.fileSchema},model:{value:(_vm.model[_vm.fields.avatarsProfile.name]),callback:function ($$v) {_vm.$set(_vm.model, _vm.fields.avatarsProfile.name, $$v)},expression:\"model[fields.avatarsProfile.name]\"}})],1)],1),_c('el-form-item',[_c('div',{staticClass:\"form-buttons\"},[_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-floppy-o\",\"type\":\"primary\"},on:{\"click\":_vm.doSubmit}},[_c('app-i18n',{attrs:{\"code\":\"common.save\"}})],1),_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-undo\"},on:{\"click\":_vm.doReset}},[_c('app-i18n',{attrs:{\"code\":\"common.reset\"}})],1),_c('router-link',{attrs:{\"to\":{ path: '/' }}},[_c('el-button',{attrs:{\"disabled\":_vm.saveLoading,\"icon\":\"el-icon-fa-close\"}},[_c('app-i18n',{attrs:{\"code\":\"common.cancel\"}})],1)],1)],1)])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <el-breadcrumb separator-class=\"el-icon-arrow-right\">\n      <el-breadcrumb-item :to=\"{ path: '/' }\">\n        <app-i18n code=\"home.menu\"></app-i18n>\n      </el-breadcrumb-item>\n      <el-breadcrumb-item>\n        <app-i18n code=\"auth.profile.title\"></app-i18n>\n      </el-breadcrumb-item>\n    </el-breadcrumb>\n\n    <div class=\"app-content-page\">\n      <h1 class=\"app-content-title\">\n        <app-i18n code=\"auth.profile.title\"></app-i18n>\n      </h1>\n\n      <el-form\n        :label-position=\"labelPosition\"\n        :label-width=\"labelWidthForm\"\n        :model=\"model\"\n        :rules=\"rules\"\n        @submit.native.prevent=\"doSubmit\"\n        class=\"form\"\n        ref=\"form\"\n      >\n        <el-form-item\n          :label=\"fields.firstName.label\"\n          :prop=\"fields.firstName.name\"\n          :required=\"fields.firstName.required\"\n        >\n          <el-col :lg=\"11\" :md=\"16\" :sm=\"24\">\n            <el-input ref=\"focus\" v-model=\"model[fields.firstName.name]\" />\n          </el-col>\n        </el-form-item>\n\n        <el-form-item\n          :label=\"fields.lastName.label\"\n          :prop=\"fields.lastName.name\"\n          :required=\"fields.lastName.required\"\n        >\n          <el-col :lg=\"11\" :md=\"16\" :sm=\"24\">\n            <el-input v-model=\"model[fields.lastName.name]\" />\n          </el-col>\n        </el-form-item>\n\n        <el-form-item\n          :label=\"fields.phoneNumber.label\"\n          :prop=\"fields.phoneNumber.name\"\n          :required=\"fields.phoneNumber.required\"\n        >\n          <el-col :lg=\"11\" :md=\"16\" :sm=\"24\">\n            <el-input prefix-icon=\"el-icon-fa-plus\" v-model=\"model[fields.phoneNumber.name]\" />\n          </el-col>\n        </el-form-item>\n\n        <el-form-item\n          :label=\"fields.avatarsProfile.label\"\n          :prop=\"fields.avatarsProfile.name\"\n          :required=\"fields.avatarsProfile.required\"\n        >\n          <el-col :lg=\"11\" :md=\"16\" :sm=\"24\">\n            <app-image-upload\n              :max=\"fields.avatarsProfile.max\"\n              :path=\"fields.avatarsProfile.path(currentUser.authenticationUid)\"\n              :schema=\"fields.avatarsProfile.fileSchema\"\n              v-model=\"model[fields.avatarsProfile.name]\"\n            ></app-image-upload>\n          </el-col>\n        </el-form-item>\n\n        <el-form-item>\n          <div class=\"form-buttons\">\n            <el-button\n              :disabled=\"saveLoading\"\n              @click=\"doSubmit\"\n              icon=\"el-icon-fa-floppy-o\"\n              type=\"primary\"\n            >\n              <app-i18n code=\"common.save\"></app-i18n>\n            </el-button>\n\n            <el-button :disabled=\"saveLoading\" @click=\"doReset\" icon=\"el-icon-fa-undo\">\n              <app-i18n code=\"common.reset\"></app-i18n>\n            </el-button>\n\n            <router-link :to=\"{ path: '/' }\">\n              <el-button :disabled=\"saveLoading\" icon=\"el-icon-fa-close\">\n                <app-i18n code=\"common.cancel\"></app-i18n>\n              </el-button>\n            </router-link>\n          </div>\n        </el-form-item>\n      </el-form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { UserModel } from '@/modules/auth/user-model';\nimport { mapGetters, mapActions } from 'vuex';\nimport { FormSchema } from '@/shared/form/form-schema';\n\nconst { fields } = UserModel;\n\nconst formSchema = new FormSchema([\n  fields.firstName,\n  fields.lastName,\n  fields.phoneNumber,\n  fields.avatarsProfile,\n]);\n\nexport default {\n  name: 'app-profile-form-page',\n\n  data() {\n    return {\n      rules: formSchema.rules(),\n      model: null,\n    };\n  },\n\n  computed: {\n    ...mapGetters({\n      labelPosition: 'layout/labelPosition',\n      labelWidthForm: 'layout/labelWidthForm',\n      currentUser: 'auth/currentUser',\n      saveLoading: 'auth/loadingUpdateProfile',\n    }),\n\n    fields() {\n      return fields;\n    },\n  },\n\n  async created() {\n    this.model = formSchema.initialValues(this.currentUser);\n  },\n\n  methods: {\n    ...mapActions({\n      doUpdateProfile: 'auth/doUpdateProfile',\n    }),\n\n    doReset() {\n      this.model = formSchema.initialValues(\n        this.currentUser,\n      );\n    },\n\n    async doSubmit() {\n      try {\n        await this.$refs.form.validate();\n      } catch (error) {\n        return;\n      }\n\n      const values = formSchema.cast(this.model);\n      this.doUpdateProfile(values);\n    },\n  },\n};\n</script>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile-form-page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./profile-form-page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./profile-form-page.vue?vue&type=template&id=10c9c805&\"\nimport script from \"./profile-form-page.vue?vue&type=script&lang=js&\"\nexport * from \"./profile-form-page.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}